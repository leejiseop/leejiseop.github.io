---
layout: default
title: 2장. 신호의 전송과 충돌
parent: 하루 3분 네트워크 교실
---

> # 2장. 신호의 전송과 충돌

- 1계층의 역할 - 통신매체를 통해 신호를 전달하는 것
- NIC(랜카드, 인터페이스) → LAN 케이블
    - 동선케이블(대부분 UTP 케이블) 또는 광섬유
- DCE에 맞는 인터페이스 → 랜케이블, usb케이블 등 → DCE → WAN 케이블
- DCE - WAN용 신호 변환기
- 인터페이스 - 비트를 신호로, 신호를 비트로
- 신호 BPS, 감쇠, 노이즈, 충돌
- 허브 - 분배, 증폭, 재생 다 해준다. 리피터는 중복만 해준다
- 허브의 플러딩 - 신호를 수신하면, 수신한 포트 제외하고 나머지 포트에 전부 송신
- 충돌 도메인 - 허브 플러딩 때문에 신호 충돌 가능성이 생기는 범위. 이걸 해결하는게 스위치
- 2계층의 역할 - 세그먼트 범위에서의 전송을 다룬다 (1계층에 따라서 달라짐)
- 세그먼트 범위 - 신호가 닿는 범위.
- LAN의 사실표준 - 이더넷. 이더넷 헤더와 이더넷 트레일러를 붙여서 캡슐화한다.
- 프리엠블 - 이제부터 프레임 신호가 옵니다
- 동기통신은 신호와 클락신호를 같이 보내서 프리엠블 안써도 되는데, 대부분은 비동기통신임
- 어드레싱 - 주소 배정 방식.
- 데이터 전송 방법 - 각각의 기기는 유일한 '유니캐스트 주소'를 '적어도' 한 개 갖고 있다!
    - 유니캐스트 - 1:1
    - 브로드캐스트 - 해당 세그먼트 내의 모두에게 보냄
    - 멀티캐스트 - 복수의 기기에 보냄. 서로 같은 '멀티캐스트 주소'를 쓴다
- MAC 주소 - '인터페이스에 지정된' 고유 주소. 48비트. 4비트마다 16진수로.
    - 앞 24코드 - 벤더코드, 인터페이스 제조사 번호
    - 뒤 24코드 - 그 제조사가 붙인 할당번호
- 이더넷 헤더 - 수신처 주소, 송신처 주소, 페이로드 내용
- 이더넷 트레일러 - FCS. frame check sequence (에러체크!)
    - 에러가 있는 프레임은 파기시킨다. 송신측에는 따로 알리진 않는다.
    - 유니캐스트 - 허브의 플러딩 통해 수신한 프레임의 수신처 MAC주소를 비교해서, 다르면 파기한다.
    - 브로드캐스트 - 어차피 전체 수신
    - 멀티캐스트 - 멀티캐스트 주소에 그룹번호가 들어있음
- CSMA/CD - 충돌하지 않도록 타이밍을 엇갈리게 함 (액세스 제어) (반이중 통신)
    - CS - 신호감지. 누군가 송신중이면 송신안함
    - MA - 다중 액세스. 아무도 송신 안하고있으면 송신함
    - CD - 충돌검사. 충돌 일어나면 재수행
- CSMA/CD로도 동시에 송신하는건 못막는다. 재송신→충돌→재송신→충돌 반복하면 효율이 나빠져서 허브 대신 스위치를 사용한다.
- 랜 케이블은 송신신호와 수신신호가 나뉘어있다. 마주보고 지나가는 신호는 충돌 안생김
- 충돌은 허브에서 발생한다. 동시수신, 동시송신
- 그래서 스위치 안에서 프레임을 따로따로 보낼 수 있도록 처리한다
    - MAC주소 필터링
        - 학습 - 수신한 프레임의 송신처 MAC 주소를 기록 - 수신한 포트와 MAC 주소 비교
        - 어드레스 테이블 - 주소 대응표
        - 프레임의 수신처 MAC 주소를 보고, 대응하는 포트에만 송신한다
        - 학습 전의 경우, 멀티캐스트, 브로드캐스트는 플러딩한다
        - 그러다가 수신처가 같은 프레임이 동시도달하면? → 버퍼링
    - 버퍼링
        - 버퍼 용량 초과 - 부족할 것 같으면 송신 중단
            - IEEE802.3x - 이더넷
            - 백 프레셔 - 그 외
- 충돌 도메인(충돌 가능성이 있는 범위)은 스위치에 의해서 분할된다
- 반이중: 무전기, 전이중: 전화통화
- CSMA/CD - 누군가 송신중이면 송신 안함, 내가 송신중이면 다른컴퓨터가 송신 안함
    - 즉, 반이중 통신
- 스위치를 사용하면 CSMA/CD 안써도 충돌 걱정이 없다. 따라서  전이중 통신이 가능!
    - 스위치를 사용한 이더넷 - 전이중 이더넷 (통신 구간이 모두 전이중 통신일 때)
    - 어느 일부라도 반이중 통신이면 전이중 통신은 불가능하다
    - 100Mbps 케이블에
        - 허브 CSMA/CD 반이중 이더넷으로 100대 연결 - 각각 1Mbps
        - 스위치 전이중 이더넷으로 연결 - 각각 100Mbps 그대로
- 스위치의 5가지 작업
    - learning - 테이블에 정보를 저장한다
    - flooding - 모르는 정보는 모든 호스트에게 뿌린다
    - forwarding - 알고있는 목적지에 정보를 전달한다
    - filtering - 다른 목적지로 넘어가지 못하게 한다
    - aging - 오래된 정보는 지운다

---
layout: default
title: 6. 주문 도메인 개발
parent: 실전! 스프링부트와 JPA 활용1
---

# 6. 주문 도메인 개발
{: .no_toc }

1. TOC
{:toc}



## 주문, 주문상품 엔티티 개발

- 전체 주문 가격 조회
  - 주문 시 사용한 전체 주문 가격을 조회한다
  - 전체 주문 가격을 알려면 각각의 주문상품 가격을 알아야 한다
  - 주문 상품들의 가격을 조회해서 더한 값을 반환한다
  - 실무에서는 주로 주문에 전체 주문 가격 필드를 두고 **역정규화** 한다

## 주문 서비스 개발

- 주문 서비스의 `주문`과 `주문 취소` 메서드 -> 비즈니스 로직 대부분이 엔티티에 있다
  - 서비스 계층은 단순히 엔티티에 필요한 요청을 위임하는 역할을 한다
- [도메인 모델 패턴(링크)](http://martinfowler.com/eaaCatalog/domainModel.html)
  - 엔티티가 비즈니스 로직을 가지고 객체 지향의 특성을 적극 활용
- [트랜잭션 스크립트 패턴(링크)](http://martinfowler.com/eaaCatalog/transactionScript.html)
  - 엔티티에는 비즈니스 로직이 거의 없고 서비스 계층에서 대부분의 비즈니스 로직을 처리

## 주문 검색 기능 개발

- 동적 쿼리는 `QueryDSL` 사용
  - 가장 편한 해결책